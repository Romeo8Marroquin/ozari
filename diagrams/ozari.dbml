Table currencies {
  id int [pk, increment]
  name text [not null]
  description text
  symbol varchar(3) [not null]
  is_active boolean [not null, default: true]
  created_at timestamp [not null, default: now()]
}

Table products {
  id int [pk, increment]
  name text [not null]
  description text
  image_url text
  type int
  rentPrice numeric(15,2)
  sellPrice numeric(15,2)
  currency_id int [not null]
  quantity int [not null]
  is_active boolean [not null, default: true]
  deleted_at timestamp
  updated_at timestamp
  created_at timestamp [not null, default: now()]
}

Table users {
  id int [pk, increment]
  username text [not null, unique]
  full_name_kms text
  email_sha varchar(256) [unique]
  email_kms text
  phone varchar(10)
  role int [not null]
  password_sha varchar(256) [not null]
  password_kms text [not null]
  is_active boolean [not null, default: true]
  deleted_at timestamp
  updated_at timestamp
  created_at timestamp [not null, default: now()]
}

Table countries {
  id int [pk, increment]
  name text [not null]
  description text
  is_active boolean [not null, default: true]
  created_at timestamp [not null, default: now()]
}

Table departments {
  id int [pk, increment]
  name text [not null]
  description text
  is_active boolean [not null, default: true]
  created_at timestamp [not null, default: now()]
}

Table municipalities {
  id int [pk, increment]
  name text [not null]
  description text
  is_active boolean [not null, default: true]
  created_at timestamp [not null, default: now()]
}

Table zones {
  id int [pk, increment]
  name text [not null]
  description text
  is_active boolean [not null, default: true]
  created_at timestamp [not null, default: now()]
}

Table addresses {
  id int [pk, increment]
  user_id int [not null]
  address_line text [not null]
  municipality int
  department int
  country int
  zone int
  postal_code varchar(10)
  updated_at timestamp
  created_at timestamp [not null, default: now()]
}

Table inventory_logs {
  id int [pk, increment]
  product_id int [not null]
  type int [not null]
  quantity int [not null]
  note text
  is_active boolean [not null, default: true]
  deleted_at timestamp
  updated_at timestamp [not null]
  created_at timestamp [not null, default: now()]
}

Table rentals {
  id int [pk, increment]
  user_id int [not null]
  product_id int [not null]
  quantity int [not null]
  rented_from date [not null]
  rented_to date [not null]
  unitary_price numeric(15,2) [not null]
  total_price numeric(15,2) [not null]
  currency_id int [not null]
  status int [not null]
  returned_at timestamp
  comment text
  is_active boolean [not null, default: true]
  deleted_at timestamp
  updated_at timestamp
  created_at timestamp [not null, default: now()]
}

Table sales {
  id int [pk, increment]
  user_id int [not null]
  product_id int [not null]
  quantity int [not null]
  unitary_price numeric(15,2) [not null]
  total_price numeric(15,2) [not null]
  currency_id int [not null]
  status int [not null]
  comment text
  is_active boolean [not null, default: true]
  deleted_at timestamp
  updated_at timestamp
  created_at timestamp [not null, default: now()]
}

Ref: products.currency_id > currencies.id
Ref: addresses.user_id > users.id
Ref: addresses.municipality > municipalities.id
Ref: addresses.department > departments.id
Ref: addresses.country > countries.id
Ref: addresses.zone > zones.id
Ref: inventory_logs.product_id > products.id
Ref: rentals.user_id > users.id
Ref: rentals.product_id > products.id
Ref: rentals.currency_id > currencies.id
Ref: sales.user_id > users.id
Ref: sales.product_id > products.id
Ref: sales.currency_id > currencies.id
